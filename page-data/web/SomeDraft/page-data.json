{"componentChunkName":"component---src-templates-blog-post-js","path":"/web/SomeDraft/","result":{"data":{"site":{"siteMetadata":{"title":"Blog-Around"}},"markdownRemark":{"id":"96c14e25-3946-5415-9425-f57c71c0b4a8","excerpt":"dooboo-ui 최근 오픈소스 컨트리뷰톤 이라는 프로그램에 참여해서 멘토링을 받으며 dooboo-ui에 기여할 기회가 생겼다.  dooboo-ui는 React-Native 기반의 ui 컴포넌트 라이브러리 프로젝트로서 React-Native UI…","html":"<h2>dooboo-ui</h2>\n<p>최근 <a href=\"https://www.oss.kr/notice/show/d7db473a-f57b-4d5e-be88-c0752f1719ec?page=7\">오픈소스 컨트리뷰톤</a> 이라는 프로그램에 참여해서 멘토링을 받으며 <a href=\"https://github.com/dooboolab/dooboo-ui\">dooboo-ui</a>에 기여할 기회가 생겼다. </p>\n<p><a href=\"https://github.com/dooboolab/dooboo-ui\">dooboo-ui</a>는 React-Native 기반의 ui 컴포넌트 라이브러리 프로젝트로서 React-Native UI 컴포넌트들을 공용으로 정의해두고 쉽게 이용할 수 있도록 한다. 내부 스택은  emotion, typescript, jest, react-testing-library, expo, storybook, 등을 이용하고, dooboolab 에서 주로 관리하고있는 오픈소스 라이브러리이다.</p>\n<h2>First Issue</h2>\n<p>가장 먼저 dooboo-ui 프로젝트를 fork하고 로컬 환경을 set 한 뒤 storybook으로 구성된 모바일 preview를 둘러보던 중 checkbox의 반응형이 조금 이상한 것 같아 이를 수정해 PR을 날렸고 바로 반영이 되었다.\n<a href=\"https://github.com/dooboolab/dooboo-ui/pull/61\">dooboo-ui 첫 PR</a></p>\n<p>물론 회사에서 매일 개발을 하고 있긴 했지만 회사 밖의 개발자들과 소통하고 기여할 수 있다니.. 새로운 성취감을 느꼈다.</p>\n<h2>First Issue Report</h2>\n<p>첫 이슈를 발견해서 해결한 후 자신감이 붙어 조금 더 적극적으로 이슈를 물색하고 구현하려고 했다. 그러던 중 일반적으로 모바일 환경에서 많이 사용하는 Floating Action Button (FAB)가 없는 것을 보고 이를 구현하는 것을 제안했다.그리고 가능하면 나에게 할당해서 기여 기회를 달라고 어필했다. <a href=\"https://github.com/dooboolab/dooboo-ui/issues/63\">dooboo-ui 첫 Issue Report</a></p>\n<h2>구현 그리고 고민…</h2>\n<p>그리고 내 바램대로 바로 할당을 받고 구현을 시작했는데,\n구현을 시작한지 얼마 되지않아 바로 고민에 빠졌다. 사실 이번은 두번째 FAB 구현인데 첫 구현은 props로 아이콘과 callback을 받고 이를이용해 내부에서 ButtonView들을 만들어 주는 구조로 구현을 했었다. 이렇게 개발을 했을때는 내부에서 ButtonView를 만들어주기때문에 버튼 뷰들의 스타일을 일관적으로 가져갈 수 잇다는 장점이 있고, 해당 컴포넌트를 사용하는방법을 제한함으로써 정확히 FAB의 용도로만 사용할 수 있도록 강제할 수 있다는 장점이 있었다. 반대로 사용방법을 제한함으로써 유연성을 저해한다는 단점은 있는 것 같다. </p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> FloatingActionButtonImpure<span class=\"token operator\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>FloatingActionButtonImpureProps<span class=\"token operator\">></span> <span class=\"token operator\">=</span>\n  <span class=\"token generic-function\"><span class=\"token function\">enhance</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>FloatingActionButtonImpureProps<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isActive<span class=\"token punctuation\">,</span> setIsActive<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> onClickFloatingButton <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsActive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>prev<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>prev<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> menus <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          icon<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>PlaylistPlay <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n          <span class=\"token function-variable function\">onClick</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">//</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          icon<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Settings <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n          <span class=\"token function-variable function\">onClick</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">//</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          icon<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Information <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n          <span class=\"token function-variable function\">onClick</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">//</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>x<span class=\"token punctuation\">.</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>FloatingActionButtonPure\n          icon<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>isActive <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>Minus <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Add <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n          onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onClickFloatingButton<span class=\"token punctuation\">}</span>\n          active<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span>\n          index<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>menus<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>menu<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>FloatingActionButtonPure\n            key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>idx<span class=\"token punctuation\">}</span>\n            icon<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>menu<span class=\"token punctuation\">.</span>icon<span class=\"token punctuation\">}</span>\n            onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>menu<span class=\"token punctuation\">.</span>onClick<span class=\"token punctuation\">}</span>\n            active<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>isActive<span class=\"token punctuation\">}</span>\n            index<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>idx<span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>x<span class=\"token punctuation\">.</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>FloatingActionButtonFallback<span class=\"token punctuation\">)</span></code></pre></div>\n<p> 이번에는 라이브러리이기 때문에 유연성을 더 주어야 한다고 생각해서 아래와 같이 컴포넌트 자체를 받도록 하고, callback, 등은 외부에서 알아서 넘겨주는 컴포넌트에 바인딩을 하도록 의도해서 첫 커밋을했다. 이렇게 하니 유연성은 늘어난 것 같은데, 사용자가 어떤 컴포넌트를 넘겨줄지도 확실하지 않기때문에 스타일의 통일성이나 버튼 자체의 사용용도를 완전히 다르게 사용할 수 있을 것 같다는 생각이 든다. </p>\n<p> 일단 아래 방향으로 구현을 진행하다가 PR을 날려서 구현 방향에 대해서 다른 컨트리뷰터들과 maintainer에게 질문해봐야겠다. </p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>DoobooTheme<span class=\"token punctuation\">,</span> light<span class=\"token punctuation\">,</span> withTheme<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../theme'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token constant\">FC</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>ViewStyle<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'@emotion/native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> FixedPositionWrapperView <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>View<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  position: fixed;\n  top: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> ViewStyle<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> props<span class=\"token punctuation\">.</span>top<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n  bottom: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> ViewStyle<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> props<span class=\"token punctuation\">.</span>bottom<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n  left: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> ViewStyle<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> props<span class=\"token punctuation\">.</span>left<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n  right: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> ViewStyle<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> props<span class=\"token punctuation\">.</span>bottom<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> ExpendWrapperView <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>View<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">FloatingActionButtonWrapperProps</span> <span class=\"token punctuation\">{</span>\n  active<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  DefaultMainActionButton<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactElement<span class=\"token punctuation\">;</span>\n  ActiveMainActionButton<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactElement<span class=\"token punctuation\">;</span>\n  ActionButtons<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>ReactElement<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  top<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  bottom<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  left<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  right<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> FloatingActionButtonWrapper<span class=\"token operator\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>\n  FloatingActionButtonWrapperProps <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>theme<span class=\"token operator\">:</span> DoobooTheme<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  active<span class=\"token punctuation\">,</span>\n  DefaultMainActionButton<span class=\"token punctuation\">,</span>\n  ActiveMainActionButton<span class=\"token punctuation\">,</span>\n  ActionButtons<span class=\"token punctuation\">,</span>\n  top<span class=\"token punctuation\">,</span>\n  bottom<span class=\"token punctuation\">,</span>\n  left<span class=\"token punctuation\">,</span>\n  right<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>FixedPositionWrapperView style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>top<span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>active <span class=\"token operator\">?</span> ActiveMainActionButton <span class=\"token operator\">:</span> DefaultMainActionButton<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span>ExpendWrapperView<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>ActionButtons<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>ActionButton<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> ActionButton<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ExpendWrapperView<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>FixedPositionWrapperView<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nFloatingActionButtonWrapper<span class=\"token punctuation\">.</span>defaultProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>theme<span class=\"token operator\">:</span> light<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> IconButton <span class=\"token operator\">=</span> <span class=\"token function\">withTheme</span><span class=\"token punctuation\">(</span>FloatingActionButtonWrapper<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>20210814 -추가 아이디어</h2>\n<p>저번 금요일에 dooboolab에 직접 가서 메인테이너와, 그리고 컨트리뷰톤 참가자들과 함께 위 내용에 대해서 논의해볼 시간이 생겼다.\n위 내용에 대해서 고민을 해본 후 얻게된 고찰은 위의 두 장점을 합쳐서 하나의 컴포넌트를 제공할 수 있다는 점이었다. </p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">FABItem</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  icon<span class=\"token operator\">:</span> IconName<span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">onPress</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">FloatingActionButtonsWrapperProps</span> <span class=\"token punctuation\">{</span>\n  active<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  DefaultFAB<span class=\"token operator\">:</span> FABItem<span class=\"token punctuation\">;</span>\n  ActiveFAB<span class=\"token operator\">:</span> FABItem<span class=\"token punctuation\">;</span>\n  FABList<span class=\"token operator\">:</span> FABItem<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  renderDefaultFAB<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token operator\">:</span> FABItem</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> React<span class=\"token punctuation\">.</span>ReactElement<span class=\"token punctuation\">;</span>\n  renderActiveFAB<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token operator\">:</span> FABItem</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> React<span class=\"token punctuation\">.</span>ReactElement<span class=\"token punctuation\">;</span>\n  renderFABListItem<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token operator\">:</span> FABItem<span class=\"token punctuation\">,</span> idx<span class=\"token operator\">:</span> number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> React<span class=\"token punctuation\">.</span>ReactElement<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> FloatingActionButtons<span class=\"token operator\">:</span> <span class=\"token constant\">FC</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FloatingActionButtonsWrapperProps</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> = ({\n  active,\n  DefaultFAB,\n  ActiveFAB,\n  FABList,\n  renderDefaultFAB,\n  renderActiveFAB,\n  renderFABListItem,\n}) => </span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> defaultFAB<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactElement <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      renderDefaultFAB <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token function\">renderDefaultFAB</span><span class=\"token punctuation\">(</span>DefaultFAB<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IconButton</span></span>\n          <span class=\"token attr-name\">icon</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">StyledIcon</span></span> <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">24</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">name</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>DefaultFAB<span class=\"token punctuation\">.</span>icon<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onPress</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>DefaultFAB<span class=\"token punctuation\">.</span>onPress<span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span>renderDefaultFAB<span class=\"token punctuation\">,</span> DefaultFAB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> activeFAB<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactElement <span class=\"token operator\">=</span> <span class=\"token function\">useMemo</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      renderActiveFAB <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token function\">renderActiveFAB</span><span class=\"token punctuation\">(</span>ActiveFAB<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IconButton</span></span>\n          <span class=\"token attr-name\">icon</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">StyledIcon</span></span> <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">24</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">name</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>ActiveFAB<span class=\"token punctuation\">.</span>icon<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onPress</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>ActiveFAB<span class=\"token punctuation\">.</span>onPress<span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span>renderActiveFAB<span class=\"token punctuation\">,</span> ActiveFAB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AbsolutePositionWrapperView</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Animated.View</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>active <span class=\"token operator\">&amp;&amp;</span>\n          FABList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> idx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n            renderFABListItem <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n              <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FABItemWrapperView</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>icon <span class=\"token operator\">+</span> idx<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                </span><span class=\"token punctuation\">{</span><span class=\"token function\">renderFABListItem</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">FABItemWrapperView</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n              <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FABItemWrapperView</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>icon <span class=\"token operator\">+</span> idx<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n                </span><span class=\"token punctuation\">{</span>\n                  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">IconButton</span></span>\n                    <span class=\"token attr-name\">icon</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>\n                      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">StyledIcon</span></span> <span class=\"token attr-name\">theme</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">24</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">name</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>icon<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n                    <span class=\"token punctuation\">}</span></span>\n                    <span class=\"token attr-name\">onPress</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>onPress<span class=\"token punctuation\">}</span></span>\n                  <span class=\"token punctuation\">/></span></span>\n                <span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">FABItemWrapperView</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Animated.View</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FABItemWrapperView</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>active <span class=\"token operator\">?</span> defaultFAB <span class=\"token operator\">:</span> activeFAB<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">FABItemWrapperView</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AbsolutePositionWrapperView</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token plain-text\">;\n\nexport const FAB = withTheme(FloatingActionButtons);</span></code></pre></div>\n<p>위의 내용을 보면 기본적으로 callback 과 아이콘을 props로 넘기게 함으로써 dooboo-ui 에서 제공하는 스타일과 컴포넌트의 사용의도록 strick 하게 제한 할 수 있다.\n이와 동시에 renderFABListItem, renderActiveFAB, renderDefaultFAB 등을 체크해서 callback 들이 구현되어있다면 위 callback을 통해 해당 컴포넌트의 사용자가 원하는데로 item을 정의할 수 있도록 인터페이스를 제공할 수 있다.\n이렇게 함으로써 위에서 고민했던 두가지 장점을 모두 합칠 수 있는 것 같다. </p>\n<p>메인테이너님이 추천해주신 레퍼런스 컴포넌트는 페이스북에서 만든<a href=\"https://reactnative.dev/docs/flatlist\">flatlist</a>였는데 해당 컴포넌트를 보아도 같은 방식을 사용하는 것을 볼 수 있었다.\n많은 테크닉들이 있는데 여러 레퍼런스들과, 커뮤니티 들을 통해 고민들을 공유하고 이를 갈고닦는 것이 중요하다는 생각이 들었다.</p>","frontmatter":{"title":"ui 라이브러리의 컴포넌트를 구현하다 생긴 고민.","date":"August 11, 2021","description":"컴포넌트 받기 vs callback 받기"}}},"pageContext":{"slug":"/web/SomeDraft/","previous":{"fields":{"slug":"/web/MVC/"},"frontmatter":{"title":"MVC"}},"next":{"fields":{"slug":"/web/ReactAPI/"},"frontmatter":{"title":"React cheat sheet"}}}},"staticQueryHashes":["2841359383","916993862"]}